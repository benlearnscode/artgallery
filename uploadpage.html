<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compitable" content="IE-edge">
    <title>
        Art Gallery - upload
    </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,inital-scale=1">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="home-header.css">
    <link rel="stylesheet" href="home-slide.css">
    <link rel="stylesheet" href="home-gallery.css">
    <link rel="stylesheet" href="swiper-bundle.min.css">


</head>
<body>
    <input type="file" id="photo">
    <img id="image"/>
    <button  onclick="uploadImage()">Upload Image</button>


    
</body>
<!-- <script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.4.0/firebase-storage.js"></script> -->

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
    
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCeZl8w_rQm8qUuKocBPoqUrgkeWUUrfIM",
      authDomain: "art-gallery-login-d5153.firebaseapp.com",
      databaseURL: "https://art-gallery-login-d5153-default-rtdb.firebaseio.com",
      projectId: "art-gallery-login-d5153",
      storageBucket: "art-gallery-login-d5153.appspot.com",
      messagingSenderId: "499039381783",
      appId: "1:499039381783:web:510572ff747789c0f72f52",
      measurementId: "G-SG5HJS2J4Z"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    console.log(firebaseConfig)

    function uploadImage(){
        const ref =firebase.storage().ref()
        
        const file = document.querySelector("#photo").files[0]

        const name =new Date() + "-" + file.name

        const metadata ={
            contentTyoe:file.type
        }
        const task=ref.child(name).put(file,metadata)
        task
        .then(snapshot => snapshot.ref.getDownloadURL())
        .then(url=>{
            console.log(url)
            alert("Image uplaod Successful")
            const image =document.querySelector("#image")
            image.src = url
            
        })
    }
  </script>

</html>